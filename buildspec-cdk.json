{
  "version": "0.2",
  "phases": {
    "install": {
      "commands": [
        "echo Check versions:",
        "java -version",
        "mvn -version",

        "echo Install cdk:",
        "npm install -g aws-cdk",
        "cdk --version",

        "printenv"
      ]
    },
    "build": {
      "commands": [
        "mkdir target",
        "mv $CODEBUILD_SRC_DIR_LAMBDA_BUILD/blog-function.zip blog-function.zip",
        "cdk synth BlogApiStack -- -o .",
        "mv cdk.out/BlogApiStack.template.json BlogApiStack.template.json"
      ]
    }
  },
  "artifacts": {
    "files": "BlogApiStack.template.json"
  }
}